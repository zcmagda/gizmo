<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Gizmo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}"/>
    <link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}"/>
    <script type="text/javascript" src="../static/js/jquery-3.3.1.min.js" th:src="@{/js/jquery-3.3.1.min.js}"></script>
</head>
<body>
<div class="bg-img"></div>
<div th:insert="fragments/navbar.html :: header">...</div>
<h1>Read Workspace</h1>

<form th:object="${workspace}">
    <label for="id">Id</label>
    <input type="text" th:field="*{id}" id="id" disabled="disabled"/>
    <label for="user">User</label>
    <input type="text" th:field="*{user}" id="user" disabled="disabled"/>
    <label for="title">Title</label>
    <input type="text" th:field="*{title}" id="title" disabled="disabled"/>
</form>
<a th:href="@{'../update/' + ${workspace.getId()}}">Update Workspace</a>
<form th:action="@{'../delete/' + ${workspace.getId()}}" method="post">
    <input type="submit" value="Delete Workspace"/>
</form>

<h2>Boards</h2>
<a th:href="@{'/board/create/' + ${workspace.getId()}}">Create Board</a>

<div class="container">
    <div class="row">
        <th:block th:each="board : ${workspace.getBoards()}">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">
                            <td th:text="${board.getId()}"></td>
                            .
                            <td th:text="${board.getTitle()}"></td>
                            <td th:text="${board.getPriority()}"></td>
                        </h5>
                        <td>
                            <table style="width: 100%">
                                <th:block th:each="card : ${board.getCards()}">
                                    <tr>
                                        <td class="card-item">
                                            <div class="card-item__header">
                                                <h3>
                                                    <span th:text="${card.getId()}"></span>
                                                    <span th:text="${card.getTitle()}">Board 1</span>
                                                </h3>
                                            </div>
                                            <div class="card-item__content">
                                                <p th:text="${card.getContent()}">Content 1</p>
                                            </div>
                                            <div class="card-item__actions">
                                                <p th:text="${card.getPriority()}">1</p>
                                                <a th:href="@{'/card/update/' + ${card.getId()}}">Update Card</a>
                                                <form th:action="@{'/card/delete/' + ${card.getId()}}" method="post">
                                                    <input type="submit" value="Delete Card"/>
                                                </form>
                                            </div>
                                        </td>
                                    </tr>
                                </th:block>
                            </table>
                        </td>
                        <td>
                            <a th:href="@{'/card/create/' + ${board.getId()}}">Create Card</a>
                            <a th:href="@{'/board/update/' + ${board.getId()}}">Update Board</a>
                            <form th:action="@{'/board/delete/' + ${board.getId()}}" method="post">
                                <input type="submit" value="Delete Board"/>
                            </form>
                        </td>
                    </div>
                </div>
            </div>
        </th:block>
    </div>
</div>
<div th:insert="fragments/footer.html :: footer">...</div>
</body>
</html>
